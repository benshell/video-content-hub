Added 8 tags for frame at 8
Error processing frame at 8: ReferenceError: insertedTags is not defined
                         at <anonymous> (/home/runner/video-content-hub/server/services/videoProcessor.ts:250:32)
                         at process.processTicksAndRejections (node: internal/process/task_queues:95:5)
                         at async Promise.all (index 0)
                         at processVideo (/home/runner/video-content-hub/server/services/videoProcessor.ts: 175:7)

Error processing video: ReferenceError: insertedTags is not defined
                         at <anonymous> (/home/runner/video-content-hub/server/services/videoProcessor.ts:250:32)
                         at process.processTicksAndRejections (node: internal/process/task_queues:95:5)
                         at async Promise.all (index 0)
                         at processVideo (/home/runner/video-content-hub/server/services/videoProcessor.ts: 175:7)

Error processing video: ReferenceError: insertedTags is not defined
                         at <anonymous> (/home/runner/video-content-hub/server/services/videoProcessor.ts:250:32)
                         at process.processTicksAndRejections (node: internal/process/task_queues:95:5)
                         at async Promise.all (index 0)
                         at processVideo (/home/runner/video-content-hub/server/services/videoProcessor.ts: 175:7)

Full error details: {
  message: 'insertedTags is not defined',
  stack: 'ReferenceError: insertedTags is not defined\n' +
         '    at <anonymous> (/home/runner/video-content-hub/server/services/videoProcessor.ts:250:32)\n' +
         '    at process.processTicksAndRejections (node: internal/process/task_queues:95:5)\n' +
         '    at async Promise.all (index 0)\n' +
         '    at processVideo (/home/runner/video-content-hub/server/services/videoProcessor.ts:175:7)'
}
videoId: 38

Error in event detection: SyntaxError: Unexpected token 'A', "Analyzing "... is not valid JSON
                         at JSON.parse (<anonymous>)
                         at EventDetectionAgent.detectEvents (/home/runner/video-content-hub/server/services/frameAnalysis/agents/eventDetectionAgent.ts:62:27)
                         at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
                         at FrameAnalyzer.analyzeFrame (/home/runner/video-content-hub/server/services/frameAnalysis/frameAnalyzer.ts:76:22)
                         at analyzeFrame (/home/runner/video-content-hub/server/services/videoProcessor.ts:606:12)
                         at <anonymous> (/home/runner/video-content-hub/server/services/videoProcessor.ts:183:28)
                         at async Promise.all (index 1)
Error analyzing frame 8: SyntaxError: Unexpected token 'A', "Analyzing "... is not valid JSON
                         at JSON.parse (<anonymous>)
                         at EventDetectionAgent.detectEvents (/home/runner/video-content-hub/server/services/frameAnalysis/agents/eventDetectionAgent.ts:62:27)
                         at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
                         at FrameAnalyzer.analyzeFrame (/home/runner/video-content-hub/server/services/frameAnalysis/frameAnalyzer.ts:76:22)
                         at analyzeFrame (/home/runner/video-content-hub/server/services/videoProcessor.ts:606:12)
                         at <anonymous> (/home/runner/video-content-hub/server/services/videoProcessor.ts:183:28)
                         at async Promise.all (index 1)
Error analyzing frame 8: {
  error: 'Unexpected token \'A\', "Analyzing "... is not valid JSON',
  bufferSize: 52725,
  timestamp: 1,
  videoId: 38,
  stage: 'frame_optimization'
}
Error processing frame at 1: SyntaxError: Unexpected token 'A', "Analyzing "... is not valid JSON
                         at JSON.parse (<anonymous>)
                         at EventDetectionAgent.detectEvents (/home/runner/video-content-hub/server/services/frameAnalysis/agents/eventDetectionAgent.ts:62:27)
                         at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
                         at FrameAnalyzer.analyzeFrame (/home/runner/video-content-hub/server/services/frameAnalysis/frameAnalyzer.ts:76:22)
                         at analyzeFrame (/home/runner/video-content-hub/server/services/videoProcessor.ts:606:12)
                         at <anonymous> (/home/runner/video-content-hub/server/services/videoProcessor.ts:183:28)
                         at async Promise.all (index 1)