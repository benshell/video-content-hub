Saved keyframe at 1 with metadata: {
  semanticDescription: {
    summary: 'A person is standing in a casual locker room environment with chairs and scattered items around. The mood is relaxed.',
    keyElements: [
      'person',
      'chairs',
      'locker room',
      'casual setting',
      'scattered items'
    ],
    mood: 'casual',
    composition: 'central',
    objects: {
      people: ['person'],
      items: ['chair', 'chair'],
      environment: ['Locker room with a person standing and chairs present']
    },
    actions: {
      primary: 'standing',
      secondary: ['possibly speaking or gesturing'],
      movements: []
    },
    technical: {
      lighting: 'artificial',
      cameraAngle: 'eye-level',
      visualQuality: 'casual'
    }
  }
}
at <anonymous> (/home/runner/video-content-hub/server/services/videoProcessor.ts:231:45)
Error processing frame at 1: TypeError: Cannot read properties of undefined (reading 'map')
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Promise.all (index 1)
    at processVideo (/home/runner/video-content-hub/server/services/videoProcessor.ts:175:7)
Error processing video: TypeError: Cannot read properties of undefined (reading 'map')
    at <anonymous> (/home/runner/video-content-hub/server/services/videoProcessor.ts:231:45)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Promise.all (index 1)
    at processVideo (/home/runner/video-content-hub/server/services/videoProcessor.ts:175:7)
Error processing video: TypeError: Cannot read properties of undefined (reading 'map')
    at <anonymous> (/home/runner/video-content-hub/server/services/videoProcessor.ts:231:45)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Promise.all (index 1)
    at processVideo (/home/runner/video-content-hub/server/services/videoProcessor.ts:175:7)
Full error details: {
  message: "Cannot read properties of undefined (reading 'map')",
  stack: 'TypeError: Cannot read properties of undefined (reading "map")\n' +
         '    at <anonymous> (/home/runner/video-content-hub/server/services/videoProcessor.ts:231:45)\n' +
         '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
         '    at async Promise.all (index 1)\n' +
         '    at processVideo (/home/runner/video-content-hub/server/services/videoProcessor.ts:175:7)'
}
videoId: 37
Error in event detection: SyntaxError: Unexpected token 'T', "The sequence..." is not valid JSON
    at JSON.parse (<anonymous>)
    at EventDetectionAgent.detectEvents (/home/runner/video-content-hub/server/services/frameAnalysis/agents/eventDetectionAgent.ts:62:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at FrameAnalyzer.analyzeFrame (/home/runner/video-content-hub/server/services/frameAnalysis/frameAnalyzer.ts:76:22)
    at analyzeFrame (/home/runner/video-content-hub/server/services/videoProcessor.ts:601:12)